"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9270],{145:(e,t,s)=>{s.d(t,{h:()=>u});var a=s(5155),i=s(2619),r=s.n(i),n=s(512),o=s(9347),l=s(9962),c=s(2115),d=s(4588);function u(e){let{product:t,className:s=""}=e,{addToCart:i}=(0,l._)(),[u,m]=(0,c.useState)(!1),[x,p]=(0,c.useState)(!1),h=t.oldPrice?Math.round((t.oldPrice-t.price)/t.oldPrice*100):0;return(0,a.jsxs)("div",{className:"group relative bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden will-change-transform ".concat(s),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{transform:"translateZ(0)"},children:[(0,a.jsxs)("div",{className:"absolute top-3 left-3 z-10",children:[t.oldPrice&&t.oldPrice>t.price&&(0,a.jsxs)("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:["Promo -",h,"%"]}),t.badge&&!t.oldPrice&&(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("Best-seller"===t.badge?"bg-green-100 text-green-800":"Nouveaut\xe9"===t.badge?"bg-blue-100 text-blue-800":"Cadeau parfait"===t.badge?"bg-pink-100 text-pink-800":"\xc9dition limit\xe9e"===t.badge?"bg-purple-100 text-purple-800":"bg-rose-custom-100 text-rose-custom-800"),children:t.badge})]}),(0,a.jsxs)("div",{className:"relative w-full aspect-square overflow-hidden bg-gray-50",children:[(0,a.jsx)(r(),{href:"/boutique/".concat(t.slug),className:"block w-full h-full",children:(0,a.jsx)(d.A,{src:t.images[0].startsWith("http")||t.images[0].startsWith("/")?t.images[0]:"/".concat(t.images[0]),alt:t.name,fill:!0,className:"object-cover transition-transform duration-700 ".concat(u?"scale-110":"scale-100"),sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",quality:80,loading:"lazy",fallbackSrc:"/placeholder-product.webp",onError:()=>p(!0)})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center transition-opacity duration-300 ".concat(u?"opacity-100":"opacity-0 pointer-events-none"),children:(0,a.jsxs)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),i({id:t.id,name:t.name,price:t.price,image:t.images[0]})},className:"bg-white text-gray-900 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Ajouter au panier"})]})})]}),(0,a.jsxs)("div",{className:"p-4 pt-6",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)(r(),{href:"/boutique/".concat(t.slug),className:"block",children:(0,a.jsx)("h3",{className:"font-semibold text-textDark hover:text-rose-custom transition-colors line-clamp-2 leading-tight",children:t.name})}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:t.subCategory})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-1",children:t.description.length>80?t.description.substring(0,80)+"...":t.description}),(0,a.jsxs)(r(),{href:"/boutique/".concat(t.slug),className:"text-xs text-rose-custom hover:text-rose-custom/80 font-medium mt-1 transition-colors flex items-center gap-1",children:["Voir plus",(0,a.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(o.A,{className:"w-4 h-4 ".concat(s<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300")},s))}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[t.rating," (",t.reviewsCount,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-textDark",children:[t.price.toFixed(2)," €"]}),t.oldPrice&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:[t.oldPrice.toFixed(2)," €"]})]})]})]})}},4588:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(5155),i=s(2115),r=s(5239),n=s(6358);function o(e){let{src:t,alt:s,width:o,height:l,fill:c=!1,className:d="",priority:u=!1,quality:m=80,sizes:x,style:p,onError:h,placeholder:g="empty",blurDataURL:f,loading:v="lazy",unoptimized:y=!1,fallbackSrc:b="/placeholder-product.webp"}=e,[j,N]=(0,i.useState)(t),[w,S]=(0,i.useState)(!0),[C,k]=(0,i.useState)(!1),[P,q]=(0,i.useState)(!1);(0,i.useEffect)(()=>{q(!0)},[]),(0,i.useEffect)(()=>{N(t),k(!1),S(!0)},[t]),(0,i.useEffect)(()=>{P&&t&&!C&&(0,n.preloadImage)(t).catch(e=>{})},[P,t,C]);let A=c?"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw":void 0,E={src:j,alt:s,className:"".concat(d||""," transition-opacity duration-300 ").concat(w?"opacity-0":"opacity-100").trim(),priority:u,quality:m,sizes:x||A,style:{...p},onError:e=>{h&&h(e),C||(b&&j!==b&&N(b),k(!0))},onLoad:()=>S(!1),placeholder:g,blurDataURL:f,loading:v,unoptimized:y};return c?(0,a.jsxs)("div",{className:"relative w-full h-full ".concat(d||""),style:p,children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-100 transition-opacity duration-300 ".concat(!P||w||C?"opacity-100":"opacity-0 pointer-events-none")}),(0,i.createElement)(r.default,{...E,fill:!0,sizes:x||A,key:"".concat(P,"-").concat(j)})]}):(0,a.jsxs)("div",{className:"relative",style:{width:o,height:l},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-100 transition-opacity duration-300 ".concat(!P||w||C?"opacity-100":"opacity-0 pointer-events-none")}),(0,i.createElement)(r.default,{...E,width:o,height:l,key:"".concat(P,"-").concat(j)})]})}},6442:(e,t,s)=>{s.d(t,{A:()=>x});var a=s(5155),i=s(2115),r=s(6497),n=s(8382),o=s(3457),l=s(709),c=s(952),d=s(8192),u=s(5229),m=s(8085);function x(e){let{isOpen:t,onClose:s}=e,[x,p]=(0,i.useState)([{id:"1",text:"Bonjour ! Je suis Flocon \uD83D\uDC31 Votre assistant personnel pour trouver le cadeau parfait. Comment puis-je vous aider aujourd'hui ?",sender:"bot",timestamp:new Date}]),[h,g]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1),y=[{text:"Id\xe9es cadeaux Saint-Valentin \uD83D\uDC95",icon:o.A},{text:"Cadeaux personnalis\xe9s \uD83C\uDF81",icon:l.A},{text:"Voir la boutique \uD83D\uDECD️",icon:c.A}],b=e=>{if(!e.trim())return;let t={id:Date.now().toString(),text:e,sender:"user",timestamp:new Date};p(e=>[...e,t]),g(""),v(!0),setTimeout(()=>{let t=e.toLowerCase(),s="Je comprends ! Permettez-moi de vous aider plus pr\xe9cis\xe9ment. Vous cherchez :\n\n\uD83C\uDFAF Pour quelle occasion ?\n\uD83D\uDCB0 Quelle fourchette de prix ?\n\uD83D\uDC64 Pour qui (homme, femme, couple) ?\n\nDites-m'en plus et je trouverai le cadeau parfait !";t.includes("saint")||t.includes("valentin")||t.includes("amour")?s="Pour la Saint-Valentin, je vous recommande :\n\n\uD83D\uDC95 Bijoux personnalis\xe9s avec gravure\n\uD83C\uDF39 Bouquets de roses rouges\n\uD83C\uDF6B Bo\xeetes de chocolats artisanaux\n\uD83D\uDD6F Bougies parfum\xe9es romantiques\n\nSouhaitez-vous que je vous montre nos meilleures ventes ?":t.includes("personnalis")||t.includes("unique")?s="Nos cadeaux personnalis\xe9s incluent :\n\n\uD83D\uDCDD Messages grav\xe9s sur bijoux\n\uD83D\uDDBC️ Photos sur cadres d\xe9coratifs\n\uD83C\uDFA8 Cr\xe9ations artistiques uniques\n\uD83D\uDCE6 Coffrets sur mesure\n\nQuel type de personnalisation vous int\xe9resse ?":(t.includes("boutiqu")||t.includes("voir")||t.includes("achet"))&&(s="Notre boutique est organis\xe9e par cat\xe9gories :\n\n❄️ Collection Hiver - Pour se r\xe9chauffer\n\uD83D\uDC95 Collection Saint-Valentin - Pour l'amour\n\uD83C\uDF81 Editions Limit\xe9es - Exclusivit\xe9s\n\nVoulez-vous visiter une collection sp\xe9cifique ?");let a={id:(Date.now()+1).toString(),text:s,sender:"bot",timestamp:new Date};p(e=>[...e,a]),v(!1)},1500)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.N,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 z-40"}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed bottom-0 right-4 w-[90%] md:w-96 h-[600px] bg-white rounded-t-2xl md:rounded-2xl shadow-2xl z-50 flex flex-col mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",style:{backgroundColor:"var(--rose)"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:"Flocon"}),(0,a.jsx)("p",{className:"text-xs text-white/80",children:"Votre assistant cadeau"})]})]}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,a.jsx)(u.A,{className:"w-5 h-5 text-white"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x.map(e=>(0,a.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[80%] p-3 rounded-2xl ".concat("user"===e.sender?"bg-rose-custom text-white":"bg-gray-100 text-gray-800"),children:[(0,a.jsx)("p",{className:"text-sm whitespace-pre-line",children:e.text}),(0,a.jsx)("p",{className:"text-xs opacity-70 mt-1",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),f&&(0,a.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:(0,a.jsx)("div",{className:"bg-gray-100 p-3 rounded-2xl",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]}),1===x.length&&(0,a.jsxs)("div",{className:"px-4 py-2 border-t",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Suggestions rapides :"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map((e,t)=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>{b(e.text)},className:"flex items-center gap-1 px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs transition-colors",children:[(0,a.jsx)(s,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.text})]},t)})})]}),(0,a.jsx)("div",{className:"p-4 border-t",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b(h)},className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Tapez votre message...",className:"flex-1 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-rose-custom"}),(0,a.jsx)("button",{type:"submit",className:"p-2 rounded-full transition-colors",style:{backgroundColor:"var(--rose)"},children:(0,a.jsx)(m.A,{className:"w-4 h-4 text-white"})})]})})]})]})})})}},9962:(e,t,s)=>{s.d(t,{_:()=>l,e:()=>o});var a=s(5155),i=s(2115);let r=(0,i.createContext)(void 0),n="flocon-cart";function o(e){let{children:t}=e,[s,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{try{let e=localStorage.getItem(n);if(e){let t=JSON.parse(e);o(Array.isArray(t)?t:[])}}catch(e){localStorage.removeItem(n)}finally{c(!0)}},[]),(0,i.useEffect)(()=>{if(l)try{localStorage.setItem(n,JSON.stringify(s))}catch(e){}},[s,l]);let d=e=>{o(t=>t.filter(t=>t.id!==e))};return(0,a.jsx)(r.Provider,{value:{cartItems:s,addToCart:e=>{o(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:d,updateQuantity:(e,t)=>{if(t<=0)return void d(e);o(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},clearCart:()=>{o([]);try{localStorage.removeItem(n)}catch(e){}},clearCartAfterPayment:()=>{o([]);try{localStorage.removeItem(n),localStorage.setItem("last-payment",new Date().toISOString())}catch(e){}}},children:t})}function l(){let e=(0,i.useContext)(r);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}}}]);